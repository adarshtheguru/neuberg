import { useState, useEffect } from "react";

export default function ScrollToTopButton() {
  const [show, setShow] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      const heroHeight = document.querySelector("#home")?.offsetHeight || 0;
      if (window.scrollY > heroHeight / 2) {
        setShow(true);
      } else {
        setShow(false);
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  return (
    show && (
      <button
        onClick={scrollToTop}
        className="fixed bottom-[80px] md:right-6 right-3 transition-opacity z-9"
        aria-label="Scroll to top"
      >
        {/* Example SVG (Up Arrow) */}
        <svg className="md:w-[70px] md:h-[70px] w-[40px] h-[40px]" width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="35.0149" cy="35.0803" r="34.7874" fill="#3C1767"/>
        <path d="M35.7222 17.245C35.3317 16.8545 34.6986 16.8545 34.308 17.245L27.9441 23.609C27.5535 23.9995 27.5535 24.6327 27.9441 25.0232C28.3346 25.4137 28.9678 25.4137 29.3583 25.0232L35.0151 19.3664L40.672 25.0232C41.0625 25.4137 41.6957 25.4137 42.0862 25.0232C42.4767 24.6327 42.4767 23.9995 42.0862 23.609L35.7222 17.245ZM35.0151 33.0859L36.0151 33.0859L36.0151 17.9521L35.0151 17.9521L34.0151 17.9521L34.0151 33.0859L35.0151 33.0859Z" fill="white"/>
        <path d="M19.2192 41.8496V40.3382H28.2249V41.8496H24.5942V51.9746H22.8442V41.8496H19.2192ZM39.8229 46.1564C39.8229 47.3989 39.5956 48.467 39.1411 49.361C38.6865 50.2511 38.0634 50.9367 37.2718 51.4178C36.4839 51.8951 35.588 52.1337 34.5843 52.1337C33.5767 52.1337 32.6771 51.8951 31.8854 51.4178C31.0975 50.9367 30.4763 50.2492 30.0218 49.3553C29.5672 48.4614 29.3399 47.3951 29.3399 46.1564C29.3399 44.914 29.5672 43.8477 30.0218 42.9576C30.4763 42.0636 31.0975 41.378 31.8854 40.9007C32.6771 40.4197 33.5767 40.1792 34.5843 40.1792C35.588 40.1792 36.4839 40.4197 37.2718 40.9007C38.0634 41.378 38.6865 42.0636 39.1411 42.9576C39.5956 43.8477 39.8229 44.914 39.8229 46.1564ZM38.0843 46.1564C38.0843 45.2095 37.9308 44.4121 37.624 43.7644C37.321 43.1129 36.9043 42.6204 36.374 42.2871C35.8475 41.95 35.2509 41.7814 34.5843 41.7814C33.9138 41.7814 33.3153 41.95 32.7888 42.2871C32.2623 42.6204 31.8456 43.1129 31.5388 43.7644C31.2358 44.4121 31.0843 45.2095 31.0843 46.1564C31.0843 47.1034 31.2358 47.9026 31.5388 48.5542C31.8456 49.2019 32.2623 49.6943 32.7888 50.0314C33.3153 50.3648 33.9138 50.5314 34.5843 50.5314C35.2509 50.5314 35.8475 50.3648 36.374 50.0314C36.9043 49.6943 37.321 49.2019 37.624 48.5542C37.9308 47.9026 38.0843 47.1034 38.0843 46.1564ZM42.0118 51.9746V40.3382H46.1595C47.0648 40.3382 47.8148 40.503 48.4095 40.8326C49.0042 41.1621 49.4493 41.6129 49.7448 42.1848C50.0402 42.753 50.1879 43.3932 50.1879 44.1053C50.1879 44.8212 50.0383 45.4651 49.7391 46.0371C49.4436 46.6053 48.9967 47.056 48.3982 47.3894C47.8035 47.7189 47.0554 47.8837 46.1539 47.8837H43.3016V46.3951H45.9948C46.5667 46.3951 47.0307 46.2966 47.3868 46.0996C47.7429 45.8989 48.0042 45.6261 48.1709 45.2814C48.3376 44.9367 48.4209 44.5447 48.4209 44.1053C48.4209 43.6659 48.3376 43.2757 48.1709 42.9348C48.0042 42.5939 47.741 42.3269 47.3811 42.1337C47.0251 41.9405 46.5554 41.8439 45.972 41.8439H43.7675V51.9746H42.0118Z" fill="white"/>
        </svg>
      </button>
    )
  );
}